(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{9791:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nist",function(){return n(7135)}])},1641:function(e,t,n){"use strict";var r=n(5893),i=(n(7294),n(4881));t.Z=function(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"p-4",children:e.children}),(0,r.jsx)(i.o2,{})]})}},4788:function(e,t,n){"use strict";var r=n(5893);n(7294);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=(0,n(5152).default)((function(){return Promise.all([n.e(960),n.e(660)]).then(n.bind(n,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});t.Z=function(e){var t=e.left,n=e.right,i=e.times,a=e.tics,o=e.estList,c=e.title,u=[{x:i,y:a,name:"\u5b9e\u9645TIC"}];if(o.length>0){var d,f=o[0].curve.x,x=o.map((function(e,t){return{x:f,y:e.curve.y,name:"\u6210\u5206".concat(t+1)}}));(d=u).push.apply(d,s(x));for(var m=o[0].curve.y.length,h=new Array(m).fill(0),y=0;y<m;y++)for(var p=0;p<o.length;p++)h[y]+=o[p].curve.y[y];u.push({x:f,y:h,name:"\u62df\u5408TIC"})}return(0,r.jsx)("div",{className:"h-64",id:"myTicDiv",children:(0,r.jsx)(l,{config:{responsive:!0,scrollZoom:!0,displayModeBar:!1},data:u,layout:{margin:{l:50,r:5,b:30,t:30},title:{text:c},xaxis:{range:[t,n],title:"Time(s)",titlefont:{family:"Arial, sans-serif",size:15}},yaxis:{title:"Intensity"}},style:{height:"100%",width:"100%"}})})}},3663:function(e,t,n){"use strict";var r=n(5893),i=(n(7294),(0,n(5152).default)((function(){return Promise.all([n.e(960),n.e(660)]).then(n.bind(n,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1}));t.Z=function(e){var t=e.alignPeaks,n=e.times,s=e.mzArr,l=e.left,a=e.right,o=e.height,c=e.title,u=n,d=t;return l&&a&&(u=n.slice(l,a),d=t.slice(l,a)),u.length>500?(0,r.jsx)("div",{}):(0,r.jsx)(i,{data:[{x:s,y:u,z:d,type:"surface",xaxis:"x2s",showscale:!0}],layout:{scene:{xaxis:{title:"M/Z"},yaxis:{title:"Time(s)"},zaxis:{title:"Intensity"}},height:o||500,title:{text:c},xaxis:{range:[l,a],title:"Time(s)",titlefont:{family:"Arial, sans-serif",size:15}},yaxis:{title:"M/Z"},margin:{l:0,r:0,b:20,t:50}},style:{height:"100%",width:"100%"},config:{responsive:!0,displayModeBar:!1}})}},4881:function(e,t,n){"use strict";n.d(t,{o2:function(){return s},xZ:function(){return l}});var r=n(5893),i=(n(7294),n(2132)),s=(n(993),function(){return(0,r.jsx)(i.Ix,{})}),l=i.Am},7135:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r=n(5893),i=n(7294),s=n(9008),l=n(1163),a=n(1641),o=n(594),c=n(4871),u=n(1664),d=function(){return(0,r.jsx)("div",{className:"flex gap-4 items-center justify-end",children:(0,r.jsx)("div",{children:(0,r.jsx)(u.default,{href:"/",children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(o.Z,{fontSize:"large"})})})})})},f=n(5152);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=(0,f.default)((function(){return Promise.all([n.e(960),n.e(660)]).then(n.bind(n,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1}),y=function(e){var t,n=e.times,i=e.tics,s=e.selEstTime,l=(t=Math).max.apply(t,m(i));return(0,r.jsx)("div",{className:"h-64",children:(0,r.jsx)(h,{config:{staticPlot:!0,responsive:!0,scrollZoom:!0,displayModeBar:!1},data:[{x:n,y:i,type:"scatter",marker:{color:"#0052cc"}}],layout:{margin:{l:50,r:5,b:40,t:10},xaxis:{title:"Time(s)",titlefont:{family:"Arial, sans-serif",size:15}},yaxis:{title:"Intensity"},shapes:[{type:"line",xref:"x",x0:s,y0:0,x1:s,y1:l,opacity:.5,line:{width:2,color:"#b91c1c",dash:"dot"}}]},style:{height:"100%",width:"100%"}})})},p=n(5656),v=n(3663),j=n(4788),b=n(7906),g=n(3184),w=n(3816),N=n(3252),A=n(295),Z=function(e){var t=e.estList,n=e.selNthEst,i=e.handleClickTableRow;return(0,r.jsx)("div",{children:(0,r.jsxs)(b.Z,{size:"small",children:[(0,r.jsx)(g.Z,{children:(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(N.Z,{className:"border-r font-bold ",children:"\u5e8f\u53f7"}),(0,r.jsx)(N.Z,{className:"border-r font-bold ",children:"\u6790\u51fa\u65f6\u95f4(s)"})]})}),(0,r.jsx)(A.Z,{children:t.map((function(e,t){return(0,r.jsxs)(w.Z,{className:"text-sm ".concat(n===t?"bg-primary-color text-gray-100":t%2&&"bg-second-color","   cursor-pointer"),onClick:function(){return i(t)},children:[(0,r.jsx)(N.Z,{sx:{color:"".concat(n===t?"white":"gray")},children:t+1}),(0,r.jsx)(N.Z,{sx:{color:"".concat(n===t?"white":"gray")},className:"border-r",children:Math.round(1e4*e.peakTimePostion)/1e4})]},e.peakTimePostion)}))})]})})},k=(0,f.default)((function(){return Promise.all([n.e(960),n.e(660)]).then(n.bind(n,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1}),C=function(e){var t=e.selEst;return(0,r.jsx)("div",{children:(0,r.jsx)(k,{data:[{x:t.massSpectrum.x,y:t.massSpectrum.y,type:"bar"}],layout:{height:400,margin:{l:100,r:50,b:30,t:20},xaxis:{title:"M/Z",titlefont:{family:"Arial, sans-serif",size:15}},yaxis:{title:"RelIntensity"}},style:{width:"".concat(90,"%")},config:{responsive:!0,displayModeBar:!1}})})},T=((0,f.default)((function(){return Promise.all([n.e(960),n.e(660)]).then(n.bind(n,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1}),function(e){var t=e.nistResult;return console.log(90),t?(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"ml-4 px-2 py-1 text-sm",children:["\u540d\u79f0\uff1a",t.name]}),(0,r.jsxs)("p",{className:"ml-4 px-2 py-1 text-sm",children:["\u5206\u5b50\u5f0f\uff1a",t.formula]}),(0,r.jsxs)("div",{className:"flex gap-2 px-2 py-1 ml-4 text-sm",children:[(0,r.jsxs)("label",{children:["MF:",t.MF]}),(0,r.jsxs)("label",{children:["RMF:",t.RMF]}),(0,r.jsxs)("label",{children:["\u6982\u7387:",t.pro]}),(0,r.jsxs)("label",{children:["CAS:",t.CAS]})]})]})}):(0,r.jsx)(r.Fragment,{})}),E=function(e){var t=e.index,n=e.value,i=e.children;return(0,r.jsx)("div",{hidden:n!==t,children:i})},S=function(e){var t=e.componentNistResult,n=e.selEst,s=(0,i.useState)(0),l=s[0],a=s[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"bg-gray-100",children:t.nistResult.map((function(e,t){return(0,r.jsx)("button",{onClick:function(){return a(t)},className:"text-sm  py-1 mt-1  px-6 border rounded ".concat(t===l?"bg-primary-color text-white":"text-gray-500 bg-slate-100"),children:t+1})}))}),t.nistResult.map((function(e,t){return(0,r.jsx)(E,{value:l,index:t,children:(0,r.jsx)(T,{nistResult:e})},t)})),(0,r.jsx)(C,{selEst:n})]})},R=function(){var e=(0,l.useRouter)(),t=(0,i.useContext)(p.cdfContext),n=t.cdf,o=(t.setCdf,(0,i.useContext)(p.rangeContext)),c=o.range,u=(o.setRange,(0,i.useContext)(p.estListContext)),f=u.estList,x=(u.setEstList,(0,i.useContext)(p.nistResultsContext)),m=x.nistResults,h=(x.setNistResults,(0,i.useState)(0)),b=h[0],g=h[1];if((0,i.useEffect)((function(){0===f.length&&e.push("/")}),[f]),0===f.length||0===m.length)return(0,r.jsx)(r.Fragment,{});var w=f[b],N=w.peakTimePostion,A=m[b];return(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("title",{children:"Nist\u6bd4\u5bf9"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(a.Z,{children:(0,r.jsxs)("main",{children:[(0,r.jsx)(d,{}),(0,r.jsx)("div",{className:" border-t-2 mb-2 ",children:n&&(0,r.jsx)(y,{times:n.scanTimes,tics:n.tics,selEstTime:N})}),(0,r.jsxs)("div",{className:"md:flex border-y-2",children:[(0,r.jsx)("div",{className:"md:flex-none border-r md:w-[30rem] lg:w-[40rem]",children:(0,r.jsxs)("div",{className:"flex flex-col ",children:[n&&(0,r.jsx)("div",{className:"border-b",children:(0,r.jsx)(v.Z,{alignPeaks:n.alignPeaks,times:n.scanTimes,mzArr:n.mzArr,left:null===c||void 0===c?void 0:c.leftIdx,right:null===c||void 0===c?void 0:c.rightIdx,height:300})}),n&&(0,r.jsx)(j.Z,{times:n.scanTimes,tics:n.tics,estList:f,left:null===c||void 0===c?void 0:c.left,right:null===c||void 0===c?void 0:c.right})]})}),(0,r.jsx)("div",{className:"md:flex-1 border-r",children:(0,r.jsx)(S,{componentNistResult:A,selEst:w})}),(0,r.jsx)("div",{className:"md:flex-none md:w-42 ",children:(0,r.jsx)("div",{className:"grid place-content-between h-full",children:(0,r.jsx)("div",{children:(0,r.jsx)(Z,{estList:f,selNthEst:b,handleClickTableRow:function(e){g(e)}})})})})]})]})})]})}}},function(e){e.O(0,[705,20,774,888,179],(function(){return t=9791,e(e.s=t);var t}));var t=e.O();_N_E=t}]);